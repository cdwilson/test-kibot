kibot:
  version: 1

global:
  drc_exclusions_workaround: true
  restore_project: true
  filters:
    # KiBot docker image warnings
    - number: 8
      regex: "Unable to find KiCad configuration file"
    - number: 9
      regex: "KiCad config without environment.vars section"
    - number: 10
      regex: "Unable to find KiCad 3D models"
    - number: 11
      regex: "Missing default symbol library table"
    - number: 58
      regex: Missing KiCad main config file
    # project-specific warnings
    - number: 20
      regex: "(no match in C3)"

outputs:
  - name: plot_pdf
    comment: Export the PCB plots in PDF format
    type: pcb_print
    dir: PDF
    options:
      <<: &pcb_print_options
        add_background: true
        background_color: "#FFFFFF"
        colored_pads: false
        colored_vias: false
        force_edge_cuts: true
        forced_edge_cuts_color: "#ff0000"
        output: plot_pdf.pdf
        pages:
          # - layers:
          #     - layer: F.Cu
          #       color: "#000000"
          #   colored_holes: true
          #   holes_color: "#FFFFFF"
          #   sheet: Primary (Top) Copper
          #   sheet_reference_color: "#000000"
          # - layers:
          #     - layer: B.Cu
          #       color: "#000000"
          #   colored_holes: true
          #   holes_color: "#FFFFFF"
          #   sheet: Secondary (Bottom) Copper
          #   sheet_reference_color: "#000000"
          - layers:
              - layer: F.Mask
                color: "#000000"
            colored_holes: true
            holes_color: "#FFFFFF"
            sheet: Primary (Top) Soldermask
            sheet_reference_color: "#000000"
          - layers:
              - layer: B.Mask
                color: "#000000"
            colored_holes: true
            holes_color: "#FFFFFF"
            sheet: Secondary (Bottom) Soldermask
            sheet_reference_color: "#000000"
          # - layers:
          #     - layer: F.Silkscreen
          #       color: "#000000"
          #   colored_holes: true
          #   holes_color: "#FFFFFF"
          #   sheet: Primary (Top) Silkscreen
          #   sheet_reference_color: "#000000"
          # - layers:
          #     - layer: B.Silkscreen
          #       color: "#000000"
          #   colored_holes: true
          #   holes_color: "#FFFFFF"
          #   sheet: Secondary (Bottom) Silkscreen
          #   sheet_reference_color: "#000000"
          # - layers:
          #     - layer: Edge.Cuts
          #       color: "#000000"
          #   colored_holes: true
          #   holes_color: "#FFFFFF"
          #   sheet: PCB Profile (Outline)
          #   sheet_reference_color: "#000000"
  - name: plot_pdf_no_realistic_soldermask
    comment: Export the PCB plots in PDF format
    type: pcb_print
    dir: PDF
    options:
      <<: *pcb_print_options
      realistic_solder_mask: false
      output: plot_pdf_no_realistic_soldermask.pdf
  - name: plot_svg
    comment: Export the PCB plots in SVG format
    type: pcb_print
    dir: SVG
    options:
      <<: *pcb_print_options
      format: SVG
      output: "plot_svg_%i.%x"
  - name: plot_svg_no_realistic_soldermask
    comment: Export the PCB plots in SVG format
    type: pcb_print
    dir: SVG
    options:
      <<: *pcb_print_options
      format: SVG
      realistic_solder_mask: false
      output: "plot_svg_no_realistic_soldermask_%i.%x"
  - name: plot_png
    comment: Export the PCB plots in PNG format
    type: pcb_print
    dir: PNG
    options:
      <<: *pcb_print_options
      format: PNG
      # dpi: 1200
      # png_width: 0
      output: "plot_png_%i.%x"
  - name: plot_png_no_realistic_soldermask
    comment: Export the PCB plots in PNG format
    type: pcb_print
    dir: PNG
    options:
      <<: *pcb_print_options
      format: PNG
      # dpi: 1200
      # png_width: 0
      realistic_solder_mask: false
      output: "plot_png_no_realistic_soldermask_%i.%x"
